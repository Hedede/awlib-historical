===========================================================
        HVDF    hrengin Virtual Disk Version 001000 
===========================================================

1. Header

As all hrengin files, hrengin Virtual Disk starts with header.

Header description:

 _____________________________________________________________________________
| size    name               value         description                        |
|_____________________________________________________________________________|
| 4       h_fileTag          'HVDF'        File format tag, mandatory for all |
|                                          hrengin files                      |
|_____________________________________________________________________________|
| 4       h_fileVer          0x1000        File format version                |
|_____________________________________________________________________________|
| 8       h_timeStamp                      Time in milliseconds since         |
|                                          2000-01-01T00:00:00.0Z             |
|_____________________________________________________________________________|
| 1       h_flags                          reserved                           |
|_____________________________________________________________________________|
| 20      h_sha1              hash of an archive                              |
|_____________________________________________________________________________|
| 47      reserved                                                            |
|                                                                             |
|                                                                             |
|_____________________________________________________________________________|
| *01     h_userDesc                       User description for the file      |
| /192                                                                        |
|_____________________________________________________________________________|
| *0X specifies an variable amount of X-byte chunks, null-terminated          |
| /L specifies size limit                                                     |
|_____________________________________________________________________________|

Example:
HVDF | 00 10 00 00 | A0 A2 4E 1B 18 6A 00 00 | 00 | 01 HREN | An archive of data files! 00

2. Directories

Immediately after header, goes list of directories. 

Here is description of one entry:
 _____________________________________________________________________________
| size    name                description                                     |
|_____________________________________________________________________________|
| 1       h_entryFlags        0x02 directory                                  |
|                             0x80 final entry                                |
|_____________________________________________________________________________|
| 6       h_dataOffset        Offset of entry data                            |
|_____________________________________________________________________________|
| 4       h_dataSize          Data size                                       |
|                             0 if entry is a directory                       |
|_____________________________________________________________________________|
| 64      h_entryName         Directory name (max. 128 chars, 7-bit encoding) |
|                             Excess space is filled with ' '                 |
|_____________________________________________________________________________|
| 13      reserved                                                            |
|                                                                             |
|                                                                             |
|_____________________________________________________________________________|

3. File map

Game build a map of all files every time change occurs.
 
 _____________________________________________________________________________
| size    name                description                                     |
|_____________________________________________________________________________|
| 20      h_sha1              hash of an archive                              |
|_____________________________________________________________________________|
| *02     h_name              archive name (unicode)                          |
|_____________________________________________________________________________|

Every file entry also receives this:

 _____________________________________________________________________________
| size    name                description                                     |
|_____________________________________________________________________________|
| 4       h_archiveId         Used only in file maps                          |
|_____________________________________________________________________________|